<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Bucket List</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Rosarivo&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1><i class="fas fa-list-check"></i> My Bucket List</h1>
                <div class="header-controls">
                    <button id="export-btn" class="btn"><i class="fas fa-file-export"></i> Export to CSV</button>
                    <button id="save-file-btn" class="btn btn-success"><i class="fas fa-save"></i> Save to File</button>
                    <button id="load-file-btn" class="btn"><i class="fas fa-folder-open"></i> Load from File</button>
                    <input type="file" id="file-input" class="file-input" accept=".json">
                </div>
            </div>
        </header>

        <main>
            <div class="item-form card">
                <h2><i class="fas fa-plus-circle"></i> Add New Item</h2>
                <form id="bucket-item-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Name:</label>
                            <input type="text" id="name" required>
                        </div>

                        <div class="form-group">
                            <label for="status">Status:</label>
                            <select id="status" required>
                                <option value="want">Want</option>
                                <option value="have">Have</option>
                                <option value="need">Need</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="type">Type:</label>
                            <input type="text" id="type" list="type-suggestions">
                            <datalist id="type-suggestions"></datalist>
                        </div>

                        <div class="form-group">
                            <label for="tag-input">Tags (comma separated):</label>
                            <input type="text" id="tag-input" placeholder="Enter tags separated by commas">
                            <div class="tags-container" id="tags-preview"></div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="tier">Tier:</label>
                            <select id="tier" required>
                                <option value="essential">🟢 Essential / Bare Bones</option>
                                <option value="functional">🔵 Functional Upgrade</option>
                                <option value="nice-to-have">🟡 Nice-to-Have</option>
                                <option value="peak">🟣 Peak - Dim Return</option>
                                <option value="luxury">🟠 Luxury Item</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="price">Price (Rp):</label>
                            <input type="number" id="price" min="0" step="0.01" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="link">Link:</label>
                            <input type="url" id="link">
                        </div>

                        <div class="form-group">
                            <label for="notes">Notes:</label>
                            <textarea id="notes" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-success"><i class="fas fa-plus"></i> Add Item</button>
                        <button type="button" id="cancel-edit" class="btn btn-secondary" style="display: none;"><i class="fas fa-times"></i> Cancel Edit</button>
                    </div>
                </form>

                <div class="file-controls">
                    <h3>File Operations</h3>
                    <p>Use these controls to save and load your data from a local file that can be synced with SyncThing.</p>
                    <div class="file-status" id="file-status">Data will be saved to your browser's local storage. Use the buttons above to export/import your data.</div>
                </div>
            </div>
            
            <!-- Budget Summary Section -->
            <div class="budget-summary card">
                <h2><i class="fas fa-wallet"></i> Budget Summary</h2>
                <div class="budget-tiers">
                    <div class="budget-tier essential">
                        <div class="tier-header">
                            <span class="tier-icon">🟢</span>
                            <span class="tier-name">Essential / Bare Bones</span>
                        </div>
                        <div class="tier-budget">
                            <span class="budget-label">Budget: </span>
                            <span class="budget-amount">Rp. <span id="essential-budget">50,000,000</span></span>
                            <span class="budget-remaining" id="essential-remaining"></span>
                        </div>
                    </div>
                    <div class="budget-tier functional">
                        <div class="tier-header">
                            <span class="tier-icon">🔵</span>
                            <span class="tier-name">Functional Upgrade</span>
                        </div>
                        <div class="tier-budget">
                            <span class="budget-label">Budget: </span>
                            <span class="budget-amount">Rp. <span id="functional-budget">100,000,000</span></span>
                            <span class="budget-remaining" id="functional-remaining"></span>
                        </div>
                    </div>
                    <div class="budget-tier nice-to-have">
                        <div class="tier-header">
                            <span class="tier-icon">🟡</span>
                            <span class="tier-name">Nice-to-Have</span>
                        </div>
                        <div class="tier-budget">
                            <span class="budget-label">Budget: </span>
                            <span class="budget-amount">Rp. <span id="nice-to-have-budget">250,000,000</span></span>
                            <span class="budget-remaining" id="nice-to-have-remaining"></span>
                        </div>
                    </div>
                    <div class="budget-tier peak">
                        <div class="tier-header">
                            <span class="tier-icon">🟣</span>
                            <span class="tier-name">Peak - Dim Return</span>
                        </div>
                        <div class="tier-budget">
                            <span class="budget-label">Budget: </span>
                            <span class="budget-amount">Rp. <span id="peak-budget">500,000,000</span></span>
                            <span class="budget-remaining" id="peak-remaining"></span>
                        </div>
                    </div>
                    <div class="budget-tier luxury">
                        <div class="tier-header">
                            <span class="tier-icon">🟠</span>
                            <span class="tier-name">Luxury Item</span>
                        </div>
                        <div class="tier-budget">
                            <span class="budget-label">Budget: </span>
                            <span class="budget-amount">Rp. <span id="luxury-budget">1,000,000,000</span></span>
                            <span class="budget-remaining" id="luxury-remaining"></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="controls card">
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="Search items...">
                    <button id="search-btn" class="btn"><i class="fas fa-search"></i></button>
                </div>

                <div class="filters">
                    <select id="status-filter">
                        <option value="">All Statuses</option>
                        <option value="have">Have</option>
                        <option value="want">Want</option>
                        <option value="need">Need</option>
                    </select>

                    <select id="type-filter">
                        <option value="">All Types</option>
                    </select>

                    <select id="tag-filter">
                        <option value="">All Tags</option>
                    </select>

                    <select id="tier-filter">
                        <option value="">All Tiers</option>
                        <option value="essential" selected>🟢 Essential</option>
                        <option value="functional">🔵 Functional</option>
                        <option value="nice-to-have">🟡 Nice-to-Have</option>
                        <option value="peak">🟣 Peak</option>
                        <option value="luxury">🟠 Luxury</option>
                    </select>

                    <button id="clear-filters" class="btn btn-secondary"><i class="fas fa-times"></i> Clear Filters</button>
                </div>
            </div>

            <div class="items-list">
                <h2><i class="fas fa-clipboard-list"></i> Bucket List Items</h2>
                <div class="items-grid" id="items-container">
                    <div class="no-items">No items found. Add some items to your bucket list!</div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>